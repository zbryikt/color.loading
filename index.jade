doctype html
//- basic libraries: jquery(1.10.2), d3js(3.3.11), angularjs(1.2.3), bootstrap(3.0)/semantic-ui(0.9.3/0.9.5)
- var use = { cdn: false, og: false, favicon: true }
- var lib = { jquery: true, d3js: true, angular: true, bootstrap: true, semantic: false }
- var assets = "/assets"
- var thumbnail = "thumbnail.png"
- var favicon = "thumbnail.png"
mixin paletteList(name)
  .palettes
    .palette(ng-repeat="pal in "+name)
      .name
        | {{pal.name}}
      .like
        i.glyphicon.glyphicon-chevron-up(ng-click="setpalette(pal)")
        i.glyphicon.glyphicon-heart
        | 5
      .palette-color
        .color(ng-repeat="c in pal",ng-attr-style="background:{{c.toHexString()}};width:{{c.width}}%",ng-click="setcolor(c,pal)")
      .tag cloud,blah,qwer

html(lang="en")
  head(prefix="og: http://ogp.me/ns#")
    meta(charset="utf-8")
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title template
    // libraries
    include library.jade
    // custom files
    link(rel="stylesheet",type="text/css",href="index.css")
    script(type="text/javascript",src="index.js")
    script(type="text/javascript",src="/bower_components/tinycolor/tinycolor.js")
  body(ng-app="ld.color",ng-controller="ldc-editor",ng-mousemove="wheel.move($event)",onmousewheel="scroll(event)")
    #nav-top
      nav.navbar.navbar-default(role="navigation")
        .container-fluid
          .navbar-header
            a.navbar-brand(href="#")
              | LOADING.IO
          .collapse.navbar-collapse
            ul.nav.navbar-nav
              li: a#nav-examples(href="#examples") EXAMPLES
              li: a#nav-compatibility(href="#compatibility") COMPATIBILITY
              li: a#nav-comment(href="#comment") CONTACT
              li: a#nav-more(href="#") MORE
            ul.nav.navbar-nav.pull-right
              li.anim.profile.invis(ng-class="{'invis':!username}"): a(href="#")
                .avatar
                  img(ng-src="http://graph.facebook.com/{{uid}}/picture?type=small",ng-show="uid")
                .name {{username}}
              li: a(href="#") &#x2764;
              //li: a(href="http://github.com/zbryikt/loading/") GITHUB
              //-
                li.logon(ng-show="!accessToken"): a(href="#",ng-click="login()") LOGIN
                li.logon.ng-hide(ng-show="accessToken"): a(href="#",ng-click="logout()") LOGOUT

    #root
      #palette-string-dialog.modal.fade
        .modal-dialog
          .modal-content
            .modal-header
              button.close(type="button",data-dismiss="modal",aria-label="Close"): span &times;
              h4.modal-title title
            .modal-body
              h5 Your Palettes "{{name}}"
              .blockcontainer.palette-color(style="width:100%;display:inline-block")
                .color(ng-repeat="c in cc",ng-attr-style="background:{{c.toHexString()}};width:{{100/cc.length}}%;",
                       ng-class="{'active':$index==active,'dark':c.isDark()}")
                  .semantic
                    i.glyphicon.glyphicon-exclamation-sign(ng-show="c.semantic.value=='warning'")
                    i.glyphicon.glyphicon-info-sign(ng-show="c.semantic.value=='info'")
                    i.glyphicon.glyphicon-ok-sign(ng-show="c.semantic.value=='success'")
                    i.glyphicon.glyphicon-remove-sign(ng-show="c.semantic.value=='danger'")
                    i.glyphicon.glyphicon-asterisk(ng-show="c.semantic.value=='primary'")
                    i.glyphicon.glyphicon-record(ng-show="c.semantic.value=='default'")
              h5 JSON Code
              textarea.form-control(ng-model="paletteString",rows="6",onclick="this.select()")
            .modal-footer
              button.btn.btn-default(type="button",data-dismiss="modal") Close

      #landing
        br
        h2 Semantic Colors, Programmable Palettes.
        p Color wheel, code codes, palette... We use them all the day. But we never make them ease to use. It's not true from now on.
        br
        br
      #mask.dim
      #editor
        #wheel
          svg#svg(width="400px",height="400px",viewBox="0 0 400 400",preserveAspectRatio="xMidYMin",style="display:block;")
            defs
            radialgradient#gradient(cx="50%",y="50%",fx="50%",fy="50%",r="50%",spreadMethod="pad")
              stop(offset="0%",stop-color="rgba(128,128,128,1)",stop-opacity="1")
              stop(offset="100%",stop-color="rgba(128,128,128,1)",stop-opacity="0")
            g.hue(transform="translate(200 200)")
            g.sat(transform="translate(200 200)")
            g.lit(transform="translate(200 200)")
            g.fin(transform="translate(200 200)")
            g.ptrs(transform="translate(200 200)")
              circle#hue.ptr
              circle#sat.ptr
              circle#lit.ptr
            g.color-btns(ng-click="wheel.add()")
              circle(cx="200",cy="200",r="60",fill="#999")
          //-.pull-right
            | or, input directly:
            br
            input.form-control.input-sm(placeholder="e.g., #facebc",style="width:100px")

        #editor-detail
          .colorblocks
            h3.title.btns
              span#name(ng-show="!editor.editNameToggled")
                | {{cc.name}}
                //-input#palette-name(type="text",value="Your Palette",style="border:none")
              input#name-input.form-control.input-sm(style="",ng-model="cc.name",ng-show="editor.editNameToggled")
              small
                .btn.btn-xs.btn-default(style="vertical-align:middle",ng-click="editor.toggleEditName()",ng-show="!editor.editNameToggled")
                  i.glyphicon.glyphicon-edit(style="vertical-align:top")
                .btn.btn-xs.btn-default(style="vertical-align:middle",ng-click="editor.toggleEditName()",ng-show="editor.editNameToggled")
                  i.glyphicon.glyphicon-ok-sign(style="vertical-align:top")
                .pull-right
                  .btn.btn-xs.btn-default: i.glyphicon.glyphicon-floppy-disk(ng-click="savePal()")
                  .btn.btn-xs.btn-default: i.glyphicon.glyphicon-info-sign(ng-click="showPaletteStringDialog()")
                  .btn.btn-xs.btn-default: i.glyphicon.glyphicon-link
                  .btn.btn-xs.btn-default(ng-click="randomCc()"): i.glyphicon.glyphicon-random
                  .btn.btn-xs.btn-default(ng-click="undo()",ng-class="{'disabled':editor.history.isEmpty}"): i.glyphicon.glyphicon-arrow-left
            .editor-palette
              .add-color(ng-click="wheel.add(true)"): i.glyphicon.glyphicon-plus
              .blockcontainer.palette-color(style="width:456px;display:inline-block;position:relative;")
                .color(ng-repeat="c in cc",ng-attr-style="background:{{c.toHexString()}};width:{{100/cc.length}}%;",
                       ng-click="setActive($index)",ng-class="{'active':$index==active,'dark':c.isDark()}",draggable="true",ondrag="drag.editor.color.drag(event)",ondragEnd="drag.editor.color.dragEnd(event)")
                  .semantic
                    i.glyphicon.glyphicon-exclamation-sign(ng-show="c.semantic.value=='warning'")
                    i.glyphicon.glyphicon-info-sign(ng-show="c.semantic.value=='info'")
                    i.glyphicon.glyphicon-ok-sign(ng-show="c.semantic.value=='success'")
                    i.glyphicon.glyphicon-remove-sign(ng-show="c.semantic.value=='danger'")
                    i.glyphicon.glyphicon-asterisk(ng-show="c.semantic.value=='primary'")
                    i.glyphicon.glyphicon-record(ng-show="c.semantic.value=='default'")
              .cursor(ng-attr-style="left:{{curpos}}px",ng-class="{'dark':cc[active].isDark()}")

          #cur-config.row
            .col-sm-4
              label color code
              input.form-control(placeholder="e.g., #facebc",ng-model="colorcode")
            .col-sm-5
              label semantic
              select.form-control(ng-model="semantic.value",ng-options="opt as opt.label for opt in semantic.options")
            .col-sm-3
              label &nbsp;
              .btn.btn-danger.form-control(ng-click="wheel.delete()") delete
          h3.btns
            | References
            small
              .pull-right
                .btn.btn-xs.btn-default: i.glyphicon.glyphicon-random(ng-click="randomRefs()")

          .palettes.ref
            .palette.sm(ng-repeat="pal in refs")
              .name
                | {{pal.name}}
              .like
                i.glyphicon.glyphicon-heart
                | 5
              .palette-color
                .color(ng-repeat="c in pal",ng-attr-style="background:{{c.toHexString()}};width:{{c.width}}%",ng-click="setcolor(c)")
              .tag cloud,blah,qwer

        #editor-float.dim
          .editor-palette
            .add-color(ng-click="wheel.add(true)"): i.glyphicon.glyphicon-plus
            .blockcontainer.palette-color(style="width:456px;display:inline-block")
              .color(ng-repeat="c in cc",ng-attr-style="background:{{c.toHexString()}};width:{{100/cc.length}}%;",
                     ng-click="setActive($index)",ng-class="{'active':$index==active,'dark':c.isDark()}")
                .semantic
                  i.glyphicon.glyphicon-exclamation-sign(ng-show="c.semantic.value=='warning'")
                  i.glyphicon.glyphicon-info-sign(ng-show="c.semantic.value=='info'")
                  i.glyphicon.glyphicon-ok-sign(ng-show="c.semantic.value=='success'")
                  i.glyphicon.glyphicon-remove-sign(ng-show="c.semantic.value=='danger'")
                  i.glyphicon.glyphicon-asterisk(ng-show="c.semantic.value=='primary'")
                  i.glyphicon.glyphicon-record(ng-show="c.semantic.value=='default'")
            .cursor(ng-attr-style="left:{{curpos}}px",ng-class="{'dark':cc[active].isDark()}")
          .palettes.ref
            .palette.sm(ng-repeat="pal in refs")
              .name
                | {{pal.name}}
              .like
                i.glyphicon.glyphicon-heart
                | 5
              .palette-color
                .color(ng-repeat="c in pal",ng-attr-style="background:{{c.toHexString()}};width:{{c.width}}%",ng-click="setcolor(c)")
              .tag cloud,blah,qwer

      .clearfix
      hr 
      h3 My Palette
      +paletteList('myPals')
      h3 Famous Palette
      +paletteList('famousPals')
      h3.btns 
        | Random Palettes
        .btn.btn-xs.btn-default(ng-click="makeRandomPalettes()"): i.glyphicon.glyphicon-random
      +paletteList('randomPals')
